{"version":3,"sources":["C:\\Users\\Dass\\Desktop\\Master1_YNOV\\DevLogiciel\\biblio\\src\\main\\webapp\\app\\account\\settings\\settings.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\n\r\nimport { AccountService } from 'app/core/auth/account.service';\r\nimport { Account } from 'app/core/user/account.model';\r\n\r\n@Component({\r\n  selector: 'jhi-settings',\r\n  templateUrl: './settings.component.html',\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  account!: Account;\r\n  success = false;\r\n  settingsForm = this.fb.group({\r\n    firstName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\r\n    lastName: [undefined, [Validators.required, Validators.minLength(1), Validators.maxLength(50)]],\r\n    email: [undefined, [Validators.required, Validators.minLength(5), Validators.maxLength(254), Validators.email]],\r\n  });\r\n\r\n  constructor(private accountService: AccountService, private fb: FormBuilder) {}\r\n\r\n  ngOnInit(): void {\r\n    this.accountService.identity().subscribe(account => {\r\n      if (account) {\r\n        this.settingsForm.patchValue({\r\n          firstName: account.firstName,\r\n          lastName: account.lastName,\r\n          email: account.email,\r\n        });\r\n\r\n        this.account = account;\r\n      }\r\n    });\r\n  }\r\n\r\n  save(): void {\r\n    this.success = false;\r\n\r\n    this.account.firstName = this.settingsForm.get('firstName')!.value;\r\n    this.account.lastName = this.settingsForm.get('lastName')!.value;\r\n    this.account.email = this.settingsForm.get('email')!.value;\r\n\r\n    this.accountService.save(this.account).subscribe(() => {\r\n      this.success = true;\r\n\r\n      this.accountService.authenticate(this.account);\r\n    });\r\n  }\r\n}\r\n"]}