{"version":3,"sources":["C:\\Users\\Dass\\Desktop\\Master1_YNOV\\DevLogiciel\\biblio\\src\\main\\webapp\\app\\account\\password\\password-strength-bar.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBI;;;;;;;;;;;;;;;;;;;;AAzBJ,MAAA,MAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;;;AA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","sourcesContent":["import { Component, ElementRef, Input, Renderer2 } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'jhi-password-strength-bar',\r\n  template: ` <div id=\"strength\">\r\n    <small>Password strength:</small>\r\n    <ul id=\"strengthBar\">\r\n      <li class=\"point\"></li>\r\n      <li class=\"point\"></li>\r\n      <li class=\"point\"></li>\r\n      <li class=\"point\"></li>\r\n      <li class=\"point\"></li>\r\n    </ul>\r\n  </div>`,\r\n  styleUrls: ['password-strength-bar.scss'],\r\n})\r\nexport class PasswordStrengthBarComponent {\r\n  colors = ['#F00', '#F90', '#FF0', '#9F0', '#0F0'];\r\n\r\n  constructor(private renderer: Renderer2, private elementRef: ElementRef) {}\r\n\r\n  measureStrength(p: string): number {\r\n    let force = 0;\r\n    const regex = /[$-/:-?{-~!\"^_`[\\]]/g; // \"\r\n    const lowerLetters = /[a-z]+/.test(p);\r\n    const upperLetters = /[A-Z]+/.test(p);\r\n    const numbers = /[0-9]+/.test(p);\r\n    const symbols = regex.test(p);\r\n\r\n    const flags = [lowerLetters, upperLetters, numbers, symbols];\r\n    const passedMatches = flags.filter((isMatchedFlag: boolean) => {\r\n      return isMatchedFlag === true;\r\n    }).length;\r\n\r\n    force += 2 * p.length + (p.length >= 10 ? 1 : 0);\r\n    force += passedMatches * 10;\r\n\r\n    // penalty (short password)\r\n    force = p.length <= 6 ? Math.min(force, 10) : force;\r\n\r\n    // penalty (poor variety of characters)\r\n    force = passedMatches === 1 ? Math.min(force, 10) : force;\r\n    force = passedMatches === 2 ? Math.min(force, 20) : force;\r\n    force = passedMatches === 3 ? Math.min(force, 40) : force;\r\n\r\n    return force;\r\n  }\r\n\r\n  getColor(s: number): { idx: number; color: string } {\r\n    let idx = 0;\r\n    if (s <= 10) {\r\n      idx = 0;\r\n    } else if (s <= 20) {\r\n      idx = 1;\r\n    } else if (s <= 30) {\r\n      idx = 2;\r\n    } else if (s <= 40) {\r\n      idx = 3;\r\n    } else {\r\n      idx = 4;\r\n    }\r\n    return { idx: idx + 1, color: this.colors[idx] };\r\n  }\r\n\r\n  @Input()\r\n  set passwordToCheck(password: string) {\r\n    if (password) {\r\n      const c = this.getColor(this.measureStrength(password));\r\n      const element = this.elementRef.nativeElement;\r\n      if (element.className) {\r\n        this.renderer.removeClass(element, element.className);\r\n      }\r\n      const lis = element.getElementsByTagName('li');\r\n      for (let i = 0; i < lis.length; i++) {\r\n        if (i < c.idx) {\r\n          this.renderer.setStyle(lis[i], 'backgroundColor', c.color);\r\n        } else {\r\n          this.renderer.setStyle(lis[i], 'backgroundColor', '#DDD');\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}