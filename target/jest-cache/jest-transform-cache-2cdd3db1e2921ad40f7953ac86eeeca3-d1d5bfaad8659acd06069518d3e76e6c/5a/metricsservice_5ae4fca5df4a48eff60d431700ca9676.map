{"version":3,"sources":["C:\\Users\\Dass\\Desktop\\Master1_YNOV\\DevLogiciel\\biblio\\src\\main\\webapp\\app\\admin\\metrics\\metrics.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBI;;;;;;;;;;;;;;;;;;;;AApBJ,MAAA,MAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AACA,MAAA,MAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,sBAAA,CAAA,CAAA;AAGA,MAAA,eAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,mBAAA,CAAA,CAAA;;;;AAQA,IAAa,cAAc,GAA3B,MAAa,cAAb,CAA2B;AACzB,EAAA,WAAA,CAAoB,IAApB,EAAoC;AAAA;AAAA;AAAA;AAAhB,SAAA,IAAA,GAAA,IAAA;AAAoB;;AAExC,EAAA,UAAU,GAAA;AAAA;AAAA;AAAA;AACR,WAAO,KAAK,IAAL,CAAU,GAAV,CAAuB,eAAA,CAAA,cAAA,GAAiB,uBAAxC,CAAP;AACD;;AAED,EAAA,UAAU,GAAA;AAAA;AAAA;AAAA;AACR,WAAO,KAAK,IAAL,CAAU,GAAV,CAA0B,eAAA,CAAA,cAAA,GAAiB,uBAA3C,CAAP;AACD;;AATwB,CAA3B;;;;AAAa,cAAc,GAAA,OAAA,CAAA,UAAA,CAAA,CAD1B,MAAA,CAAA,UAAA,CAAW;AAAE,EAAA,UAAU,EAAE;AAAd,CAAX,CAC0B,E,yCACC,MAAA,CAAA,U,EADD,CAAA,EAAd,cAAc,CAAd;;;;AAAA,OAAA,CAAA,cAAA,GAAA,cAAA","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { SERVER_API_URL } from 'app/app.constants';\r\n\r\nexport type MetricsKey = 'jvm' | 'http.server.requests' | 'cache' | 'services' | 'databases' | 'garbageCollector' | 'processMetrics';\r\nexport type Metrics = { [key in MetricsKey]: any };\r\nexport type Thread = any;\r\nexport type ThreadDump = { threads: Thread[] };\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MetricsService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getMetrics(): Observable<Metrics> {\r\n    return this.http.get<Metrics>(SERVER_API_URL + 'management/jhimetrics');\r\n  }\r\n\r\n  threadDump(): Observable<ThreadDump> {\r\n    return this.http.get<ThreadDump>(SERVER_API_URL + 'management/threaddump');\r\n  }\r\n}\r\n"]}