{"version":3,"sources":["C:\\Users\\Dass\\Desktop\\Master1_YNOV\\DevLogiciel\\biblio\\src\\main\\webapp\\app\\shared\\login\\login.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { LoginService } from 'app/core/login/login.service';\r\n\r\n@Component({\r\n  selector: 'jhi-login-modal',\r\n  templateUrl: './login.component.html',\r\n})\r\nexport class LoginModalComponent implements AfterViewInit {\r\n  @ViewChild('username', { static: false })\r\n  username?: ElementRef;\r\n\r\n  authenticationError = false;\r\n\r\n  loginForm = this.fb.group({\r\n    username: [''],\r\n    password: [''],\r\n    rememberMe: [false],\r\n  });\r\n\r\n  constructor(private loginService: LoginService, private router: Router, public activeModal: NgbActiveModal, private fb: FormBuilder) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.username) {\r\n      this.username.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  cancel(): void {\r\n    this.authenticationError = false;\r\n    this.loginForm.patchValue({\r\n      username: '',\r\n      password: '',\r\n    });\r\n    this.activeModal.dismiss('cancel');\r\n  }\r\n\r\n  login(): void {\r\n    this.loginService\r\n      .login({\r\n        username: this.loginForm.get('username')!.value,\r\n        password: this.loginForm.get('password')!.value,\r\n        rememberMe: this.loginForm.get('rememberMe')!.value,\r\n      })\r\n      .subscribe(\r\n        () => {\r\n          this.authenticationError = false;\r\n          this.activeModal.close();\r\n          if (\r\n            this.router.url === '/account/register' ||\r\n            this.router.url.startsWith('/account/activate') ||\r\n            this.router.url.startsWith('/account/reset/')\r\n          ) {\r\n            this.router.navigate(['']);\r\n          }\r\n        },\r\n        () => (this.authenticationError = true)\r\n      );\r\n  }\r\n\r\n  register(): void {\r\n    this.activeModal.dismiss('to state register');\r\n    this.router.navigate(['/account/register']);\r\n  }\r\n\r\n  requestResetPassword(): void {\r\n    this.activeModal.dismiss('to state requestReset');\r\n    this.router.navigate(['/account/reset', 'request']);\r\n  }\r\n}\r\n"]}