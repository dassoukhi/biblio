{"file":"C:\\Users\\Dass\\Desktop\\Master1_YNOV\\DevLogiciel\\biblio\\src\\test\\javascript\\spec\\app\\account\\password-reset\\init\\password-reset-init.component.spec.ts","mappings":";;AAAA,wCAA2C;AAC3C,mDAA0E;AAC1E,0CAA6C;AAC7C,+BAAsC;AAEtC,yDAA2D;AAC3D,iHAA2G;AAC3G,6GAAuG;AAEvG,QAAQ,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,QAAQ,CAAC,4BAA4B,EAAE,GAAG,EAAE;QAC1C,IAAI,OAAqD,CAAC;QAC1D,IAAI,IAAgC,CAAC;QAErC,UAAU,CAAC,GAAG,EAAE;YACd,OAAO,GAAG,iBAAO,CAAC,sBAAsB,CAAC;gBACvC,OAAO,EAAE,CAAC,8BAAgB,CAAC;gBAC3B,YAAY,EAAE,CAAC,0DAA0B,CAAC;gBAC1C,SAAS,EAAE,CAAC,mBAAW,CAAC;aACzB,CAAC;iBACC,gBAAgB,CAAC,0DAA0B,EAAE,EAAE,CAAC;iBAChD,eAAe,CAAC,0DAA0B,CAAC,CAAC;YAC/C,IAAI,GAAG,OAAO,CAAC,iBAAiB,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gDAAgD,EAAE,GAAG,EAAE;YACxD,MAAM,IAAI,GAAG;gBACX,KAAK,KAAU,CAAC;aACjB,CAAC;YACF,IAAI,CAAC,KAAK,GAAG,IAAI,iBAAU,CAAC,IAAI,CAAC,CAAC;YAClC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAErB,IAAI,CAAC,eAAe,EAAE,CAAC;YAEvB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kDAAkD,EAAE,gBAAM,CAAC,CAAC,sDAAwB,CAAC,EAAE,CAAC,OAAiC,EAAE,EAAE;YAC9H,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,SAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;gBAC/B,KAAK,EAAE,iBAAiB;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;YAC7D,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC,CAAC;QAEJ,EAAE,CAAC,gDAAgD,EAAE,gBAAM,CAAC,CAAC,sDAAwB,CAAC,EAAE,CAAC,OAAiC,EAAE,EAAE;YAC5H,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,CAAC,WAAW,CACpC,iBAAU,CAAC;gBACT,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,gBAAgB;aACvB,CAAC,CACH,CAAC;YACF,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC;gBAC/B,KAAK,EAAE,iBAAiB;aACzB,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;YAC7D,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["C:\\Users\\Dass\\Desktop\\Master1_YNOV\\DevLogiciel\\biblio\\src\\test\\javascript\\spec\\app\\account\\password-reset\\init\\password-reset-init.component.spec.ts"],"sourcesContent":["import { ElementRef } from '@angular/core';\r\nimport { ComponentFixture, TestBed, inject } from '@angular/core/testing';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { of, throwError } from 'rxjs';\r\n\r\nimport { BiblioTestModule } from '../../../../test.module';\r\nimport { PasswordResetInitComponent } from 'app/account/password-reset/init/password-reset-init.component';\r\nimport { PasswordResetInitService } from 'app/account/password-reset/init/password-reset-init.service';\r\n\r\ndescribe('Component Tests', () => {\r\n  describe('PasswordResetInitComponent', () => {\r\n    let fixture: ComponentFixture<PasswordResetInitComponent>;\r\n    let comp: PasswordResetInitComponent;\r\n\r\n    beforeEach(() => {\r\n      fixture = TestBed.configureTestingModule({\r\n        imports: [BiblioTestModule],\r\n        declarations: [PasswordResetInitComponent],\r\n        providers: [FormBuilder],\r\n      })\r\n        .overrideTemplate(PasswordResetInitComponent, '')\r\n        .createComponent(PasswordResetInitComponent);\r\n      comp = fixture.componentInstance;\r\n    });\r\n\r\n    it('sets focus after the view has been initialized', () => {\r\n      const node = {\r\n        focus(): void {},\r\n      };\r\n      comp.email = new ElementRef(node);\r\n      spyOn(node, 'focus');\r\n\r\n      comp.ngAfterViewInit();\r\n\r\n      expect(node.focus).toHaveBeenCalled();\r\n    });\r\n\r\n    it('notifies of success upon successful requestReset', inject([PasswordResetInitService], (service: PasswordResetInitService) => {\r\n      spyOn(service, 'save').and.returnValue(of({}));\r\n      comp.resetRequestForm.patchValue({\r\n        email: 'user@domain.com',\r\n      });\r\n\r\n      comp.requestReset();\r\n\r\n      expect(service.save).toHaveBeenCalledWith('user@domain.com');\r\n      expect(comp.success).toBe(true);\r\n    }));\r\n\r\n    it('no notification of success upon error response', inject([PasswordResetInitService], (service: PasswordResetInitService) => {\r\n      spyOn(service, 'save').and.returnValue(\r\n        throwError({\r\n          status: 503,\r\n          data: 'something else',\r\n        })\r\n      );\r\n      comp.resetRequestForm.patchValue({\r\n        email: 'user@domain.com',\r\n      });\r\n      comp.requestReset();\r\n\r\n      expect(service.save).toHaveBeenCalledWith('user@domain.com');\r\n      expect(comp.success).toBe(false);\r\n    }));\r\n  });\r\n});\r\n"],"version":3}